apiVersion: v1
kind: ConfigMap
metadata:
  creationTimestamp: null
  name: grafana-dashboard-provisioning
  labels:
    grafana_dashboard: "true"
  annotations:
    grafana-folder: /grafana-dashboard-definitions/Insights
data:
  Provisioning-1674548289785.json: |-
    {
       "annotations" : {
          "list" : [
             {
                "builtIn" : 1,
                "datasource" : {
                   "type" : "datasource",
                   "uid" : "grafana"
                },
                "enable" : true,
                "hide" : true,
                "iconColor" : "rgba(0, 211, 255, 1)",
                "name" : "Annotations & Alerts",
                "target" : {
                   "limit" : 100,
                   "matchAny" : false,
                   "tags" : [],
                   "type" : "dashboard"
                },
                "type" : "dashboard"
             }
          ]
       },
       "editable" : true,
       "fiscalYearStartMonth" : 0,
       "graphTooltip" : 0,
       "links" : [],
       "liveNow" : false,
       "panels" : [
          {
             "collapsed" : false,
             "gridPos" : {
                "h" : 1,
                "w" : 24,
                "x" : 0,
                "y" : 0
             },
             "id" : 46,
             "panels" : [],
             "title" : "Job scheduler",
             "type" : "row"
          },
          {
             "datasource" : {
                "type" : "prometheus",
                "uid" : "${datasource}"
             },
             "fieldConfig" : {
                "defaults" : {
                   "color" : {
                      "mode" : "thresholds"
                   },
                   "mappings" : [],
                   "thresholds" : {
                      "mode" : "percentage",
                      "steps" : [
                         {
                            "color" : "green",
                            "value" : null
                         },
                         {
                            "color" : "red",
                            "value" : 95.0007
                         }
                      ]
                   },
                   "unit" : "percentunit"
                },
                "overrides" : []
             },
             "gridPos" : {
                "h" : 8,
                "w" : 12,
                "x" : 0,
                "y" : 1
             },
             "id" : 59,
             "options" : {
                "colorMode" : "value",
                "graphMode" : "none",
                "justifyMode" : "auto",
                "orientation" : "auto",
                "reduceOptions" : {
                   "calcs" : [
                      "lastNotNull"
                   ],
                   "fields" : "",
                   "values" : false
                },
                "textMode" : "auto"
             },
             "pluginVersion" : "9.3.8",
             "targets" : [
                {
                   "datasource" : {
                      "type" : "prometheus",
                      "uid" : "${datasource}"
                   },
                   "editorMode" : "code",
                   "expr" : "sum(rate(provisioning_reservation_count{result=\"success\",type=\"aws\"}[$__interval])) /\nsum(rate(provisioning_reservation_count{type=\"aws\"}[$__interval]))",
                   "legendFormat" : "__auto",
                   "range" : true,
                   "refId" : "A"
                }
             ],
             "title" : "AWS reservation success",
             "type" : "stat"
          },
          {
             "datasource" : {
                "type" : "prometheus",
                "uid" : "${datasource}"
             },
             "fieldConfig" : {
                "defaults" : {
                   "color" : {
                      "mode" : "thresholds"
                   },
                   "mappings" : [],
                   "thresholds" : {
                      "mode" : "percentage",
                      "steps" : [
                         {
                            "color" : "green",
                            "value" : null
                         },
                         {
                            "color" : "red",
                            "value" : 95.0007
                         }
                      ]
                   },
                   "unit" : "percentunit"
                },
                "overrides" : []
             },
             "gridPos" : {
                "h" : 8,
                "w" : 12,
                "x" : 12,
                "y" : 1
             },
             "id" : 60,
             "options" : {
                "colorMode" : "value",
                "graphMode" : "none",
                "justifyMode" : "auto",
                "orientation" : "auto",
                "reduceOptions" : {
                   "calcs" : [
                      "lastNotNull"
                   ],
                   "fields" : "",
                   "values" : false
                },
                "textMode" : "auto"
             },
             "pluginVersion" : "9.3.8",
             "targets" : [
                {
                   "datasource" : {
                      "type" : "prometheus",
                      "uid" : "${datasource}"
                   },
                   "editorMode" : "code",
                   "expr" : "sum(rate(provisioning_reservation_count{result=\"success\",type=\"azure\"}[$__interval])) /\nsum(rate(provisioning_reservation_count{type=\"azure\"}[$__interval]))",
                   "legendFormat" : "__auto",
                   "range" : true,
                   "refId" : "A"
                }
             ],
             "title" : "Azure reservation success",
             "type" : "stat"
          },
          {
             "datasource" : {
                "type" : "prometheus",
                "uid" : "${datasource}"
             },
             "fieldConfig" : {
                "defaults" : {
                   "color" : {
                      "mode" : "palette-classic"
                   },
                   "custom" : {
                      "axisCenteredZero" : false,
                      "axisColorMode" : "text",
                      "axisLabel" : "",
                      "axisPlacement" : "auto",
                      "barAlignment" : 0,
                      "drawStyle" : "line",
                      "fillOpacity" : 0,
                      "gradientMode" : "none",
                      "hideFrom" : {
                         "legend" : false,
                         "tooltip" : false,
                         "viz" : false
                      },
                      "lineInterpolation" : "linear",
                      "lineWidth" : 2,
                      "pointSize" : 5,
                      "scaleDistribution" : {
                         "type" : "linear"
                      },
                      "showPoints" : "never",
                      "spanNulls" : true,
                      "stacking" : {
                         "group" : "A",
                         "mode" : "none"
                      },
                      "thresholdsStyle" : {
                         "mode" : "off"
                      }
                   },
                   "mappings" : [],
                   "thresholds" : {
                      "mode" : "absolute",
                      "steps" : [
                         {
                            "color" : "green",
                            "value" : null
                         },
                         {
                            "color" : "red",
                            "value" : 80
                         }
                      ]
                   }
                },
                "overrides" : []
             },
             "gridPos" : {
                "h" : 8,
                "w" : 12,
                "x" : 0,
                "y" : 9
             },
             "id" : 54,
             "options" : {
                "legend" : {
                   "calcs" : [],
                   "displayMode" : "list",
                   "placement" : "bottom",
                   "showLegend" : true
                },
                "tooltip" : {
                   "mode" : "single",
                   "sort" : "none"
                }
             },
             "targets" : [
                {
                   "datasource" : {
                      "type" : "prometheus",
                      "uid" : "${datasource}"
                   },
                   "editorMode" : "code",
                   "exemplar" : false,
                   "expr" : "sum (rate(provisioning_reservation_count{result=\"success\"}[$__interval])) by (type)",
                   "legendFormat" : "{{type}} success",
                   "range" : true,
                   "refId" : "A"
                },
                {
                   "datasource" : {
                      "type" : "prometheus",
                      "uid" : "${datasource}"
                   },
                   "editorMode" : "code",
                   "exemplar" : false,
                   "expr" : "sum (rate(provisioning_reservation_count{result=\"failure\"}[$__interval])) by (type)",
                   "hide" : false,
                   "legendFormat" : "{{type}} failure",
                   "range" : true,
                   "refId" : "B"
                }
             ],
             "title" : "Reservation success/error rate",
             "type" : "timeseries"
          },
          {
             "datasource" : {
                "type" : "prometheus",
                "uid" : "${datasource}"
             },
             "description" : "Duration of background job types",
             "fieldConfig" : {
                "defaults" : {
                   "color" : {
                      "mode" : "palette-classic"
                   },
                   "custom" : {
                      "axisCenteredZero" : false,
                      "axisColorMode" : "text",
                      "axisLabel" : "",
                      "axisPlacement" : "auto",
                      "barAlignment" : 0,
                      "drawStyle" : "line",
                      "fillOpacity" : 0,
                      "gradientMode" : "none",
                      "hideFrom" : {
                         "legend" : false,
                         "tooltip" : false,
                         "viz" : false
                      },
                      "lineInterpolation" : "linear",
                      "lineStyle" : {
                         "fill" : "solid"
                      },
                      "lineWidth" : 2,
                      "pointSize" : 5,
                      "scaleDistribution" : {
                         "type" : "linear"
                      },
                      "showPoints" : "auto",
                      "spanNulls" : true,
                      "stacking" : {
                         "group" : "A",
                         "mode" : "none"
                      },
                      "thresholdsStyle" : {
                         "mode" : "off"
                      }
                   },
                   "mappings" : [],
                   "thresholds" : {
                      "mode" : "absolute",
                      "steps" : [
                         {
                            "color" : "green",
                            "value" : null
                         }
                      ]
                   },
                   "unit" : "ms"
                },
                "overrides" : []
             },
             "gridPos" : {
                "h" : 8,
                "w" : 12,
                "x" : 12,
                "y" : 9
             },
             "id" : 52,
             "options" : {
                "legend" : {
                   "calcs" : [],
                   "displayMode" : "list",
                   "placement" : "bottom",
                   "showLegend" : true
                },
                "tooltip" : {
                   "mode" : "single",
                   "sort" : "none"
                }
             },
             "targets" : [
                {
                   "datasource" : {
                      "type" : "prometheus",
                      "uid" : "${datasource}"
                   },
                   "editorMode" : "code",
                   "exemplar" : false,
                   "expr" : "histogram_quantile(0.95, sum by (type, le) (rate(background_job_duration_ms_bucket[$__interval])))",
                   "format" : "time_series",
                   "instant" : false,
                   "legendFormat" : "__auto",
                   "range" : true,
                   "refId" : "A"
                }
             ],
             "title" : "Job latency 95th percentile (ms)",
             "type" : "timeseries"
          },
          {
             "datasource" : {
                "type" : "prometheus",
                "uid" : "${datasource}"
             },
             "description" : "Number of jobs in the Redis job queue waiting to be picked up",
             "fieldConfig" : {
                "defaults" : {
                   "color" : {
                      "mode" : "palette-classic"
                   },
                   "custom" : {
                      "axisCenteredZero" : false,
                      "axisColorMode" : "text",
                      "axisLabel" : "",
                      "axisPlacement" : "auto",
                      "barAlignment" : 0,
                      "drawStyle" : "line",
                      "fillOpacity" : 0,
                      "gradientMode" : "none",
                      "hideFrom" : {
                         "legend" : false,
                         "tooltip" : false,
                         "viz" : false
                      },
                      "lineInterpolation" : "linear",
                      "lineWidth" : 1,
                      "pointSize" : 5,
                      "scaleDistribution" : {
                         "type" : "linear"
                      },
                      "showPoints" : "auto",
                      "spanNulls" : false,
                      "stacking" : {
                         "group" : "A",
                         "mode" : "none"
                      },
                      "thresholdsStyle" : {
                         "mode" : "off"
                      }
                   },
                   "mappings" : [],
                   "thresholds" : {
                      "mode" : "absolute",
                      "steps" : [
                         {
                            "color" : "green",
                            "value" : null
                         },
                         {
                            "color" : "red",
                            "value" : 80
                         }
                      ]
                   }
                },
                "overrides" : []
             },
             "gridPos" : {
                "h" : 8,
                "w" : 12,
                "x" : 0,
                "y" : 17
             },
             "id" : 50,
             "options" : {
                "legend" : {
                   "calcs" : [],
                   "displayMode" : "list",
                   "placement" : "bottom",
                   "showLegend" : true
                },
                "tooltip" : {
                   "mode" : "single",
                   "sort" : "none"
                }
             },
             "targets" : [
                {
                   "datasource" : {
                      "type" : "prometheus",
                      "uid" : "${datasource}"
                   },
                   "editorMode" : "code",
                   "expr" : "sum(sum_over_time(provisioning_job_queue_size[$__interval]))",
                   "legendFormat" : "size",
                   "range" : true,
                   "refId" : "A"
                }
             ],
             "title" : "Job queue size",
             "type" : "timeseries"
          },
          {
             "datasource" : {
                "type" : "prometheus",
                "uid" : "${datasource}"
             },
             "description" : "Number of jobs being processed by our workers.",
             "fieldConfig" : {
                "defaults" : {
                   "color" : {
                      "mode" : "palette-classic"
                   },
                   "custom" : {
                      "axisCenteredZero" : false,
                      "axisColorMode" : "text",
                      "axisLabel" : "",
                      "axisPlacement" : "auto",
                      "barAlignment" : 0,
                      "drawStyle" : "line",
                      "fillOpacity" : 0,
                      "gradientMode" : "none",
                      "hideFrom" : {
                         "legend" : false,
                         "tooltip" : false,
                         "viz" : false
                      },
                      "lineInterpolation" : "linear",
                      "lineWidth" : 1,
                      "pointSize" : 5,
                      "scaleDistribution" : {
                         "type" : "linear"
                      },
                      "showPoints" : "auto",
                      "spanNulls" : false,
                      "stacking" : {
                         "group" : "A",
                         "mode" : "none"
                      },
                      "thresholdsStyle" : {
                         "mode" : "off"
                      }
                   },
                   "mappings" : [],
                   "thresholds" : {
                      "mode" : "absolute",
                      "steps" : [
                         {
                            "color" : "green",
                            "value" : null
                         },
                         {
                            "color" : "red",
                            "value" : 80
                         }
                      ]
                   }
                },
                "overrides" : []
             },
             "gridPos" : {
                "h" : 8,
                "w" : 12,
                "x" : 12,
                "y" : 17
             },
             "id" : 48,
             "options" : {
                "legend" : {
                   "calcs" : [],
                   "displayMode" : "list",
                   "placement" : "bottom",
                   "showLegend" : true
                },
                "tooltip" : {
                   "mode" : "single",
                   "sort" : "none"
                }
             },
             "targets" : [
                {
                   "datasource" : {
                      "type" : "prometheus",
                      "uid" : "${datasource}"
                   },
                   "editorMode" : "code",
                   "expr" : "sum(sum_over_time(provisioning_job_queue_inflight[$__interval]))",
                   "legendFormat" : "jobs",
                   "range" : true,
                   "refId" : "A"
                }
             ],
             "title" : "In-flight jobs",
             "type" : "timeseries"
          },
          {
             "collapsed" : false,
             "gridPos" : {
                "h" : 1,
                "w" : 24,
                "x" : 0,
                "y" : 25
             },
             "id" : 40,
             "panels" : [],
             "title" : "Request Latency",
             "type" : "row"
          },
          {
             "datasource" : {
                "type" : "prometheus",
                "uid" : "${datasource}"
             },
             "description" : "The request latency for http requests over the selected date range",
             "fieldConfig" : {
                "defaults" : {
                   "color" : {
                      "mode" : "thresholds"
                   },
                   "custom" : {
                      "axisCenteredZero" : false,
                      "axisColorMode" : "text",
                      "axisLabel" : "milliseconds",
                      "axisPlacement" : "auto",
                      "barAlignment" : 0,
                      "drawStyle" : "line",
                      "fillOpacity" : 36,
                      "gradientMode" : "scheme",
                      "hideFrom" : {
                         "legend" : false,
                         "tooltip" : false,
                         "viz" : false
                      },
                      "lineInterpolation" : "linear",
                      "lineStyle" : {
                         "fill" : "solid"
                      },
                      "lineWidth" : 3,
                      "pointSize" : 5,
                      "scaleDistribution" : {
                         "type" : "linear"
                      },
                      "showPoints" : "always",
                      "spanNulls" : false,
                      "stacking" : {
                         "group" : "A",
                         "mode" : "none"
                      },
                      "thresholdsStyle" : {
                         "mode" : "line"
                      }
                   },
                   "links" : [],
                   "mappings" : [],
                   "min" : 0,
                   "thresholds" : {
                      "mode" : "absolute",
                      "steps" : [
                         {
                            "color" : "green",
                            "value" : null
                         },
                         {
                            "color" : "purple",
                            "value" : 200
                         }
                      ]
                   },
                   "unit" : "ms"
                },
                "overrides" : [
                   {
                      "matcher" : {
                         "id" : "byName",
                         "options" : "p99"
                      },
                      "properties" : [
                         {
                            "id" : "color",
                            "value" : {
                               "fixedColor" : "blue",
                               "mode" : "fixed"
                            }
                         }
                      ]
                   },
                   {
                      "matcher" : {
                         "id" : "byName",
                         "options" : "p95"
                      },
                      "properties" : [
                         {
                            "id" : "color",
                            "value" : {
                               "fixedColor" : "yellow",
                               "mode" : "fixed"
                            }
                         }
                      ]
                   },
                   {
                      "matcher" : {
                         "id" : "byName",
                         "options" : "p50"
                      },
                      "properties" : [
                         {
                            "id" : "color",
                            "value" : {
                               "fixedColor" : "red",
                               "mode" : "fixed"
                            }
                         }
                      ]
                   }
                ]
             },
             "gridPos" : {
                "h" : 9,
                "w" : 19,
                "x" : 0,
                "y" : 26
             },
             "id" : 36,
             "links" : [],
             "options" : {
                "legend" : {
                   "calcs" : [],
                   "displayMode" : "list",
                   "placement" : "bottom",
                   "showLegend" : true
                },
                "tooltip" : {
                   "mode" : "single",
                   "sort" : "none"
                }
             },
             "pluginVersion" : "9.0.3",
             "targets" : [
                {
                   "datasource" : {
                      "type" : "prometheus",
                      "uid" : "${datasource}"
                   },
                   "editorMode" : "code",
                   "exemplar" : true,
                   "expr" : "histogram_quantile(0.99, sum(rate(provisioning_http_request_duration_ms_bucket[$__interval])) by (le))",
                   "legendFormat" : "p99",
                   "range" : true,
                   "refId" : "A"
                },
                {
                   "datasource" : {
                      "type" : "prometheus",
                      "uid" : "${datasource}"
                   },
                   "editorMode" : "code",
                   "expr" : "histogram_quantile(0.95, sum(rate(provisioning_http_request_duration_ms_bucket[$__interval]))by (le))",
                   "hide" : false,
                   "legendFormat" : "p95",
                   "range" : true,
                   "refId" : "B"
                },
                {
                   "datasource" : {
                      "type" : "prometheus",
                      "uid" : "${datasource}"
                   },
                   "editorMode" : "code",
                   "expr" : "histogram_quantile(0.5, sum(rate(provisioning_http_request_duration_ms_bucket[$__interval]))by (le))",
                   "hide" : false,
                   "legendFormat" : "p50",
                   "range" : true,
                   "refId" : "C"
                }
             ],
             "title" : "Request Latency",
             "type" : "timeseries"
          },
          {
             "collapsed" : false,
             "datasource" : {
                "type" : "prometheus",
                "uid" : "${datasource}"
             },
             "gridPos" : {
                "h" : 1,
                "w" : 24,
                "x" : 0,
                "y" : 35
             },
             "id" : 24,
             "panels" : [],
             "targets" : [
                {
                   "datasource" : {
                      "type" : "prometheus",
                      "uid" : "${datasource}"
                   },
                   "refId" : "A"
                }
             ],
             "title" : "HTTP Request Stability",
             "type" : "row"
          },
          {
             "datasource" : {
                "type" : "prometheus",
                "uid" : "${datasource}"
             },
             "fieldConfig" : {
                "defaults" : {
                   "color" : {
                      "mode" : "thresholds"
                   },
                   "mappings" : [
                      {
                         "options" : {
                            "match" : "null",
                            "result" : {
                               "text" : "N/A"
                            }
                         },
                         "type" : "special"
                      }
                   ],
                   "max" : 1,
                   "thresholds" : {
                      "mode" : "absolute",
                      "steps" : [
                         {
                            "color" : "green",
                            "value" : null
                         },
                         {
                            "color" : "red",
                            "value" : 95
                         }
                      ]
                   },
                   "unit" : "percentunit"
                },
                "overrides" : []
             },
             "gridPos" : {
                "h" : 7,
                "w" : 5,
                "x" : 0,
                "y" : 36
             },
             "id" : 32,
             "links" : [],
             "maxDataPoints" : 100,
             "options" : {
                "colorMode" : "value",
                "graphMode" : "none",
                "justifyMode" : "auto",
                "orientation" : "horizontal",
                "reduceOptions" : {
                   "calcs" : [
                      "lastNotNull"
                   ],
                   "fields" : "",
                   "values" : false
                },
                "textMode" : "auto"
             },
             "pluginVersion" : "9.3.8",
             "targets" : [
                {
                   "datasource" : {
                      "type" : "prometheus",
                      "uid" : "${datasource}"
                   },
                   "editorMode" : "code",
                   "expr" : "sum(rate(provisioning_http_request_total{code=~\"2.*\"}[$__range]))/sum(rate(provisioning_http_request_total[$__range]))",
                   "hide" : false,
                   "range" : true,
                   "refId" : "A"
                }
             ],
             "title" : "Total HTTP Success Rate ",
             "type" : "stat"
          },
          {
             "datasource" : {
                "type" : "prometheus",
                "uid" : "${datasource}"
             },
             "fieldConfig" : {
                "defaults" : {
                   "color" : {
                      "mode" : "thresholds"
                   },
                   "mappings" : [
                      {
                         "options" : {
                            "match" : "null",
                            "result" : {
                               "text" : "N/A"
                            }
                         },
                         "type" : "special"
                      }
                   ],
                   "thresholds" : {
                      "mode" : "absolute",
                      "steps" : [
                         {
                            "color" : "green",
                            "value" : null
                         }
                      ]
                   },
                   "unit" : "none"
                },
                "overrides" : []
             },
             "gridPos" : {
                "h" : 7,
                "w" : 5,
                "x" : 5,
                "y" : 36
             },
             "id" : 41,
             "links" : [],
             "maxDataPoints" : 100,
             "options" : {
                "colorMode" : "value",
                "graphMode" : "none",
                "justifyMode" : "auto",
                "orientation" : "auto",
                "reduceOptions" : {
                   "calcs" : [
                      "lastNotNull"
                   ],
                   "fields" : "",
                   "values" : false
                },
                "textMode" : "auto"
             },
             "pluginVersion" : "9.3.8",
             "targets" : [
                {
                   "datasource" : {
                      "type" : "prometheus",
                      "uid" : "${datasource}"
                   },
                   "editorMode" : "code",
                   "expr" : "sum(increase(provisioning_http_request_total[$__range]))",
                   "hide" : false,
                   "range" : true,
                   "refId" : "A"
                }
             ],
             "title" : "HTTP requests ",
             "type" : "stat"
          },
          {
             "datasource" : {
                "type" : "prometheus",
                "uid" : "${datasource}"
             },
             "fieldConfig" : {
                "defaults" : {
                   "color" : {
                      "mode" : "thresholds"
                   },
                   "custom" : {
                      "axisCenteredZero" : false,
                      "axisColorMode" : "text",
                      "axisLabel" : "",
                      "axisPlacement" : "auto",
                      "barAlignment" : 0,
                      "drawStyle" : "line",
                      "fillOpacity" : 11,
                      "gradientMode" : "none",
                      "hideFrom" : {
                         "legend" : false,
                         "tooltip" : false,
                         "viz" : false
                      },
                      "lineInterpolation" : "linear",
                      "lineWidth" : 1,
                      "pointSize" : 5,
                      "scaleDistribution" : {
                         "type" : "linear"
                      },
                      "showPoints" : "auto",
                      "spanNulls" : false,
                      "stacking" : {
                         "group" : "A",
                         "mode" : "none"
                      },
                      "thresholdsStyle" : {
                         "mode" : "off"
                      }
                   },
                   "links" : [],
                   "mappings" : [],
                   "thresholds" : {
                      "mode" : "absolute",
                      "steps" : [
                         {
                            "color" : "red",
                            "value" : null
                         }
                      ]
                   },
                   "unit" : "none"
                },
                "overrides" : [
                   {
                      "matcher" : {
                         "id" : "byName",
                         "options" : "success/sec"
                      },
                      "properties" : [
                         {
                            "id" : "color",
                            "value" : {
                               "fixedColor" : "green",
                               "mode" : "fixed"
                            }
                         }
                      ]
                   }
                ]
             },
             "gridPos" : {
                "h" : 7,
                "w" : 14,
                "x" : 0,
                "y" : 43
             },
             "id" : 34,
             "links" : [],
             "options" : {
                "legend" : {
                   "calcs" : [],
                   "displayMode" : "list",
                   "placement" : "bottom",
                   "showLegend" : true
                },
                "tooltip" : {
                   "mode" : "single",
                   "sort" : "none"
                }
             },
             "pluginVersion" : "9.0.3",
             "targets" : [
                {
                   "datasource" : {
                      "type" : "prometheus",
                      "uid" : "${datasource}"
                   },
                   "editorMode" : "code",
                   "exemplar" : true,
                   "expr" : "(sum(rate(provisioning_http_request_total{code!~\"4.*\"}[$interval])) OR on() vector(0)) - (sum(rate(provisioning_http_request_total{code=~\"5.*\"}[$interval])) OR on() vector(0)) ",
                   "legendFormat" : "success/sec",
                   "range" : true,
                   "refId" : "A"
                },
                {
                   "datasource" : {
                      "type" : "prometheus",
                      "uid" : "${datasource}"
                   },
                   "editorMode" : "code",
                   "exemplar" : true,
                   "expr" : "(sum(rate(provisioning_http_request_total{code=~\"5.*\"}[$interval])) OR on() vector(0))",
                   "hide" : false,
                   "legendFormat" : "errors/sec",
                   "range" : true,
                   "refId" : "B"
                }
             ],
             "title" : "HTTP  Throughput Rate",
             "type" : "timeseries"
          },
          {
             "datasource" : {
                "type" : "prometheus",
                "uid" : "${datasource}"
             },
             "fieldConfig" : {
                "defaults" : {
                   "color" : {
                      "mode" : "thresholds"
                   },
                   "custom" : {
                      "axisCenteredZero" : false,
                      "axisColorMode" : "text",
                      "axisLabel" : "",
                      "axisPlacement" : "auto",
                      "barAlignment" : 0,
                      "drawStyle" : "line",
                      "fillOpacity" : 11,
                      "gradientMode" : "none",
                      "hideFrom" : {
                         "legend" : false,
                         "tooltip" : false,
                         "viz" : false
                      },
                      "lineInterpolation" : "linear",
                      "lineWidth" : 1,
                      "pointSize" : 5,
                      "scaleDistribution" : {
                         "type" : "linear"
                      },
                      "showPoints" : "auto",
                      "spanNulls" : false,
                      "stacking" : {
                         "group" : "A",
                         "mode" : "none"
                      },
                      "thresholdsStyle" : {
                         "mode" : "off"
                      }
                   },
                   "links" : [],
                   "mappings" : [],
                   "thresholds" : {
                      "mode" : "absolute",
                      "steps" : [
                         {
                            "color" : "green",
                            "value" : null
                         }
                      ]
                   },
                   "unit" : "none"
                },
                "overrides" : []
             },
             "gridPos" : {
                "h" : 7,
                "w" : 14,
                "x" : 0,
                "y" : 50
             },
             "id" : 43,
             "links" : [],
             "options" : {
                "legend" : {
                   "calcs" : [],
                   "displayMode" : "list",
                   "placement" : "bottom",
                   "showLegend" : true
                },
                "tooltip" : {
                   "mode" : "single",
                   "sort" : "none"
                }
             },
             "pluginVersion" : "9.0.3",
             "targets" : [
                {
                   "datasource" : {
                      "type" : "prometheus",
                      "uid" : "${datasource}"
                   },
                   "editorMode" : "code",
                   "exemplar" : true,
                   "expr" : "sum(rate(provisioning_http_request_duration_ms_bucket{le=\"200\"}[$__range])) / sum(rate(provisioning_http_request_duration_ms_count[$__range]))",
                   "legendFormat" : "__auto",
                   "range" : true,
                   "refId" : "A"
                }
             ],
             "title" : "HTTP  Request Latency",
             "type" : "timeseries"
          },
          {
             "collapsed" : false,
             "datasource" : {
                "type" : "prometheus",
                "uid" : "${datasource}"
             },
             "gridPos" : {
                "h" : 1,
                "w" : 24,
                "x" : 0,
                "y" : 57
             },
             "id" : 26,
             "panels" : [],
             "targets" : [
                {
                   "datasource" : {
                      "type" : "prometheus",
                      "uid" : "${datasource}"
                   },
                   "refId" : "A"
                }
             ],
             "title" : "Source Availability Request Stability and Latency",
             "type" : "row"
          },
          {
             "datasource" : {
                "type" : "prometheus",
                "uid" : "${datasource}"
             },
             "fieldConfig" : {
                "defaults" : {
                   "color" : {
                      "mode" : "thresholds"
                   },
                   "mappings" : [
                      {
                         "options" : {
                            "match" : "null",
                            "result" : {
                               "text" : "N/A"
                            }
                         },
                         "type" : "special"
                      }
                   ],
                   "max" : 1,
                   "thresholds" : {
                      "mode" : "absolute",
                      "steps" : [
                         {
                            "color" : "green",
                            "value" : null
                         },
                         {
                            "color" : "red",
                            "value" : 75
                         }
                      ]
                   },
                   "unit" : "percentunit"
                },
                "overrides" : []
             },
             "gridPos" : {
                "h" : 7,
                "w" : 5,
                "x" : 0,
                "y" : 58
             },
             "id" : 33,
             "links" : [],
             "maxDataPoints" : 100,
             "options" : {
                "colorMode" : "value",
                "graphMode" : "none",
                "justifyMode" : "auto",
                "orientation" : "horizontal",
                "reduceOptions" : {
                   "calcs" : [
                      "lastNotNull"
                   ],
                   "fields" : "",
                   "values" : false
                },
                "textMode" : "auto"
             },
             "pluginVersion" : "9.3.8",
             "targets" : [
                {
                   "datasource" : {
                      "type" : "prometheus",
                      "uid" : "${datasource}"
                   },
                   "expr" : "(sum(rate(provisioning_source_availability_check_request_total[$__range]))+ sum(rate(provisioning_invalid_source_availability_check_request_total[$__range])))/sum(rate(provisioning_http_request_total{path=\"/api/provisioning/v1/availability_status/sources/\"}[$__range]))",
                   "refId" : "A"
                }
             ],
             "title" : "Source Availability Success Rate",
             "type" : "stat"
          },
          {
             "datasource" : {
                "type" : "prometheus",
                "uid" : "${datasource}"
             },
             "fieldConfig" : {
                "defaults" : {
                   "color" : {
                      "mode" : "thresholds"
                   },
                   "custom" : {
                      "axisCenteredZero" : false,
                      "axisColorMode" : "text",
                      "axisLabel" : "",
                      "axisPlacement" : "auto",
                      "barAlignment" : 0,
                      "drawStyle" : "line",
                      "fillOpacity" : 11,
                      "gradientMode" : "none",
                      "hideFrom" : {
                         "legend" : false,
                         "tooltip" : false,
                         "viz" : false
                      },
                      "lineInterpolation" : "linear",
                      "lineWidth" : 1,
                      "pointSize" : 5,
                      "scaleDistribution" : {
                         "type" : "linear"
                      },
                      "showPoints" : "auto",
                      "spanNulls" : false,
                      "stacking" : {
                         "group" : "A",
                         "mode" : "none"
                      },
                      "thresholdsStyle" : {
                         "mode" : "off"
                      }
                   },
                   "links" : [],
                   "mappings" : [],
                   "thresholds" : {
                      "mode" : "absolute",
                      "steps" : [
                         {
                            "color" : "red",
                            "value" : null
                         }
                      ]
                   },
                   "unit" : "none"
                },
                "overrides" : [
                   {
                      "matcher" : {
                         "id" : "byName",
                         "options" : "success/sec"
                      },
                      "properties" : [
                         {
                            "id" : "color",
                            "value" : {
                               "fixedColor" : "green",
                               "mode" : "fixed"
                            }
                         }
                      ]
                   },
                   {
                      "matcher" : {
                         "id" : "byName",
                         "options" : "success/hour"
                      },
                      "properties" : [
                         {
                            "id" : "color",
                            "value" : {
                               "fixedColor" : "blue",
                               "mode" : "fixed"
                            }
                         }
                      ]
                   }
                ]
             },
             "gridPos" : {
                "h" : 7,
                "w" : 14,
                "x" : 5,
                "y" : 58
             },
             "id" : 42,
             "interval" : "1h",
             "links" : [],
             "options" : {
                "legend" : {
                   "calcs" : [],
                   "displayMode" : "list",
                   "placement" : "bottom",
                   "showLegend" : true
                },
                "tooltip" : {
                   "mode" : "single",
                   "sort" : "none"
                }
             },
             "pluginVersion" : "9.0.3",
             "targets" : [
                {
                   "datasource" : {
                      "type" : "prometheus",
                      "uid" : "${datasource}"
                   },
                   "editorMode" : "code",
                   "exemplar" : true,
                   "expr" : "(sum(rate(provisioning_source_availability_check_request_total{error=\"false\"}[$__interval])) OR on() vector(0))",
                   "legendFormat" : "success/sec",
                   "range" : true,
                   "refId" : "A"
                },
                {
                   "datasource" : {
                      "type" : "prometheus",
                      "uid" : "${datasource}"
                   },
                   "editorMode" : "code",
                   "exemplar" : true,
                   "expr" : "(sum(rate(provisioning_source_availability_check_request_total{error=\"true\"}[$__interval])) OR on() vector(0))",
                   "hide" : false,
                   "legendFormat" : "errors/sec",
                   "range" : true,
                   "refId" : "B"
                }
             ],
             "title" : "Source Availability Throughput Rate",
             "type" : "timeseries"
          },
          {
             "datasource" : {
                "type" : "prometheus",
                "uid" : "${datasource}"
             },
             "fieldConfig" : {
                "defaults" : {
                   "color" : {
                      "mode" : "thresholds"
                   },
                   "custom" : {
                      "axisCenteredZero" : false,
                      "axisColorMode" : "text",
                      "axisLabel" : "",
                      "axisPlacement" : "auto",
                      "barAlignment" : 0,
                      "drawStyle" : "line",
                      "fillOpacity" : 11,
                      "gradientMode" : "none",
                      "hideFrom" : {
                         "legend" : false,
                         "tooltip" : false,
                         "viz" : false
                      },
                      "lineInterpolation" : "linear",
                      "lineWidth" : 1,
                      "pointSize" : 5,
                      "scaleDistribution" : {
                         "type" : "linear"
                      },
                      "showPoints" : "auto",
                      "spanNulls" : false,
                      "stacking" : {
                         "group" : "A",
                         "mode" : "none"
                      },
                      "thresholdsStyle" : {
                         "mode" : "off"
                      }
                   },
                   "links" : [],
                   "mappings" : [],
                   "thresholds" : {
                      "mode" : "absolute",
                      "steps" : [
                         {
                            "color" : "green",
                            "value" : null
                         }
                      ]
                   },
                   "unit" : "none"
                },
                "overrides" : []
             },
             "gridPos" : {
                "h" : 7,
                "w" : 14,
                "x" : 1,
                "y" : 65
             },
             "id" : 44,
             "links" : [],
             "options" : {
                "legend" : {
                   "calcs" : [],
                   "displayMode" : "list",
                   "placement" : "bottom",
                   "showLegend" : true
                },
                "tooltip" : {
                   "mode" : "single",
                   "sort" : "none"
                }
             },
             "pluginVersion" : "9.0.3",
             "targets" : [
                {
                   "datasource" : {
                      "type" : "prometheus",
                      "uid" : "${datasource}"
                   },
                   "editorMode" : "code",
                   "exemplar" : true,
                   "expr" : "sum(rate(provisioning_source_availability_check_request_duration_ms_bucket{le=\"5000\"}[$__range])) / sum(rate(provisioning_source_availability_check_request_duration_ms_count[$__range]))",
                   "legendFormat" : "__auto",
                   "range" : true,
                   "refId" : "A"
                }
             ],
             "title" : "Source Availability Request Latency",
             "type" : "timeseries"
          }
       ],
       "refresh" : false,
       "schemaVersion" : 37,
       "style" : "dark",
       "tags" : [],
       "templating" : {
          "list" : [
             {
                "current" : {
                   "selected" : false,
                   "text" : "crcs02ue1-prometheus",
                   "value" : "crcs02ue1-prometheus"
                },
                "hide" : 0,
                "includeAll" : false,
                "multi" : false,
                "name" : "datasource",
                "options" : [],
                "query" : "prometheus",
                "queryValue" : "",
                "refresh" : 1,
                "regex" : "/crc(p01|s02)ue1-prometheus/",
                "skipUrlSync" : false,
                "type" : "datasource"
             },
             {
                "auto" : false,
                "auto_count" : 30,
                "auto_min" : "10s",
                "current" : {
                   "selected" : false,
                   "text" : "6h",
                   "value" : "6h"
                },
                "hide" : 0,
                "name" : "interval",
                "options" : [
                   {
                      "selected" : false,
                      "text" : "5m",
                      "value" : "5m"
                   },
                   {
                      "selected" : false,
                      "text" : "30m",
                      "value" : "30m"
                   },
                   {
                      "selected" : false,
                      "text" : "1h",
                      "value" : "1h"
                   },
                   {
                      "selected" : true,
                      "text" : "6h",
                      "value" : "6h"
                   },
                   {
                      "selected" : false,
                      "text" : "12h",
                      "value" : "12h"
                   },
                   {
                      "selected" : false,
                      "text" : "1d",
                      "value" : "1d"
                   },
                   {
                      "selected" : false,
                      "text" : "3d",
                      "value" : "3d"
                   },
                   {
                      "selected" : false,
                      "text" : "7d",
                      "value" : "7d"
                   }
                ],
                "query" : "5m,30m,1h,6h,12h,1d,3d,7d",
                "queryValue" : "",
                "refresh" : 2,
                "skipUrlSync" : false,
                "type" : "interval"
             }
          ]
       },
       "time" : {
          "from" : "now-6h",
          "to" : "now"
       },
       "timepicker" : {
          "refresh_intervals" : [
             "5s",
             "10s",
             "30s",
             "1m",
             "5m",
             "15m",
             "30m",
             "1h",
             "2h",
             "1d"
          ],
          "time_options" : [
             "5m",
             "15m",
             "1h",
             "6h",
             "12h",
             "24h",
             "2d",
             "7d",
             "30d"
          ]
       },
       "timezone" : "",
       "title" : "Provisioning",
       "uid" : "211",
       "version" : 2,
       "weekStart" : ""
    }
